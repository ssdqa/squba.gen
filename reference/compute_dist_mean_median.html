<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Distance from Mean &amp; Median — compute_dist_mean_median • squba.gen</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Distance from Mean &amp; Median — compute_dist_mean_median"><meta name="description" content="This function will, for the values in a given var_col, compute the
distance between that value and the mean &amp;amp; median values for each group
established by the grp_vars parameter."><meta property="og:description" content="This function will, for the values in a given var_col, compute the
distance between that value and the mean &amp;amp; median values for each group
established by the grp_vars parameter."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">squba.gen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="external-link nav-link" href="https://ssdqa.github.io/squba/">squba Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ssdqa/squba.gen/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Distance from Mean &amp; Median</h1>
      <small class="dont-index">Source: <a href="https://github.com/ssdqa/squba.gen/blob/main/R/anomaly_detection.R" class="external-link"><code>R/anomaly_detection.R</code></a></small>
      <div class="d-none name"><code>compute_dist_mean_median.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will, for the values in a given <code>var_col</code>, compute the
distance between that value and the mean &amp; median values for each group
established by the <code>grp_vars</code> parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_dist_mean_median</span><span class="op">(</span><span class="va">tbl</span>, <span class="va">grp_vars</span>, <span class="va">var_col</span>, <span class="va">num_sd</span>, <span class="va">num_mad</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tbl">tbl<a class="anchor" aria-label="anchor" href="#arg-tbl"></a></dt>
<dd><p><em>tabular input</em> || <strong>required</strong></p>
<p>A table with the target numerical variable (<code>var_col</code>) for the analysis
and each of the required grouping variables (<code>grp_vars</code>)</p></dd>


<dt id="arg-grp-vars">grp_vars<a class="anchor" aria-label="anchor" href="#arg-grp-vars"></a></dt>
<dd><p><em>string or vector</em> || <strong>required</strong></p>
<p>The name of the variable(s) to group by when computing summary statistics</p></dd>


<dt id="arg-var-col">var_col<a class="anchor" aria-label="anchor" href="#arg-var-col"></a></dt>
<dd><p><em>string</em> || <strong>required</strong></p>
<p>The name of the numeric variable that should be the target of summary
statistic computations</p></dd>


<dt id="arg-num-sd">num_sd<a class="anchor" aria-label="anchor" href="#arg-num-sd"></a></dt>
<dd><p><em>integer</em> || <strong>required</strong></p>
<p>The number of standard deviations away from the mean that should be used
as the lower and upper bounds for outlier detection. Values falling, for
example, over 2 standard deviations above or below the mean would be
considered outliers.</p></dd>


<dt id="arg-num-mad">num_mad<a class="anchor" aria-label="anchor" href="#arg-num-mad"></a></dt>
<dd><p><em>integer</em> || <strong>required</strong></p>
<p>The number of median absolute deviations (MADs) away from the median that
should be used as lower and upper bounds. Outliers are not formally identified
based on the median, but the information will be available in the final
table should you prefer that method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A table where, for each group in <code>grp_vars</code>, various summary statistics like the
mean, median, standard deviation, MAD, and others, are computed based on the
<code>var_col</code>. Outliers are identified in the <code>anomaly_yn</code> column based on whether
the data point is +/- <code>num_sd</code> from the mean or the data point is &gt; the 90th
percentile.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># sample input table</span></span></span>
<span class="r-in"><span><span class="va">sample_input</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="st">'variable'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'scd'</span>, <span class="st">'scd'</span>, <span class="st">'scd'</span>, <span class="st">'scd'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              <span class="st">'site'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Site A'</span>, <span class="st">'Site A'</span>, <span class="st">'Site B'</span>,</span></span>
<span class="r-in"><span>                                         <span class="st">'Site B'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              <span class="st">'count'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">24</span>, <span class="fl">100</span>, <span class="fl">93</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># execute function against sample data</span></span></span>
<span class="r-in"><span><span class="fu">compute_dist_mean_median</span><span class="op">(</span>tbl <span class="op">=</span> <span class="va">sample_input</span>,</span></span>
<span class="r-in"><span>                         grp_vars <span class="op">=</span> <span class="st">'variable'</span>,</span></span>
<span class="r-in"><span>                         var_col <span class="op">=</span> <span class="st">'count'</span>,</span></span>
<span class="r-in"><span>                         num_sd <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         num_mad <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(site, variable)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(variable)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   site   variable count  mean median    sd   mad `90th_percentile` sd_lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Site A scd         15    58   58.5  44.7  56.3              99.0     13.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Site A scd         24    58   58.5  44.7  56.3              99.0     13.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Site B scd        100    58   58.5  44.7  56.3              99.0     13.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Site B scd         93    58   58.5  44.7  56.3              99.0     13.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 7 more variables: sd_upper &lt;dbl&gt;, mad_lower &lt;dbl&gt;, mad_upper &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   anomaly_yn &lt;lgl&gt;, abs_diff_mean &lt;dbl&gt;, abs_diff_median &lt;dbl&gt;, n_mad &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hanieh Razzaghi, Kaleigh Wieand, Kimberley Dickinson, Charles Bailey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

